<!DOCTYPE html>
<html lang="es">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0"/>
  <title>PROTOTIPO GESTOR DE LABORATORIOS ING. BIOMÉDICA UNAB</title>
  <link rel="stylesheet" href="https://cdn.replit.com/agent/bootstrap-agent-dark-theme.min.css">
  <link rel="stylesheet" href="/css/styles.css" />
</head>
<body>
  <header>
    <img src="/img/logo-unab.svg" alt="Logo UNAB" class="logo" />
    <h1>PROTOTIPO GESTOR DE LABORATORIOS<br>ING. BIOMÉDICA UNAB</h1>
  </header>

  <div class="container mt-4">
    <main>
      <!-- Módulo 1: Selección de usuario -->
      <section id="user-selection" class="card shadow p-4">
        <h2 class="mb-3">¿Quién eres?</h2>
        <div class="row">
          <div class="col-md-4 mb-3">
            <div class="card h-100">
              <div class="card-body text-center">
                <img src="/img/student.svg" alt="Estudiante" class="user-icon mb-3" />
                <h3>Estudiante</h3>
                <p>Acceso para prestar y retornar elementos</p>
                <button class="btn btn-success w-100" onclick="selectUserType('estudiante')">Soy estudiante</button>
              </div>
            </div>
          </div>
          <div class="col-md-4 mb-3">
            <div class="card h-100">
              <div class="card-body text-center">
                <img src="/img/teacher.svg" alt="Docente" class="user-icon mb-3" />
                <h3>Docente</h3>
                <p>Acceso a préstamos y consulta de inventario</p>
                <button class="btn btn-primary w-100" onclick="selectUserType('docente')">Soy docente</button>
              </div>
            </div>
          </div>
          <div class="col-md-4 mb-3">
            <div class="card h-100">
              <div class="card-body text-center">
                <img src="/img/lab.svg" alt="Laboratorista" class="user-icon mb-3" />
                <h3>Laboratorista</h3>
                <p>Acceso y administración completa del sistema</p>
                <button class="btn btn-warning w-100" onclick="selectUserType('laboratorista')">Soy laboratorista</button>
              </div>
            </div>
          </div>
        </div>
      </section>

      <!-- Sección de autenticación (docentes y laboratoristas) -->
      <section id="auth-section" class="card shadow p-4 mt-4" style="display:none;">
        <div class="row">
          <div class="col-md-6 mx-auto">
            <div class="form-group">
              <label for="user-name">Nombre:</label>
              <input type="text" id="user-name" class="form-control mb-3" placeholder="Ingresa tu nombre" />
            </div>
            <div class="form-group" id="pin-group" style="display: none;">
              <label for="pin-input">PIN de acceso:</label>
              <input type="password" id="pin-input" class="form-control mb-3" placeholder="Ingresa tu PIN" />
              <div class="text-muted mb-2">Docentes: DOC1234 | Laboratoristas: LAB5678</div>
            </div>
            <button id="auth-button" class="btn btn-primary w-100">Acceder</button>
          </div>
        </div>
      </section>

      <!-- Módulo 2: Interfaz principal dependiendo del usuario -->
      <section id="interface" style="display:none;">
        <!-- Aquí se cargará la interfaz dependiendo del tipo de usuario -->
      </section>

      <!-- Módulo de préstamo/retorno -->
      <section id="prestamo-section" class="mt-4" style="display:none;">
        <div class="card shadow p-4">
          <h3 id="prestamo-title">Préstamo de elementos</h3>
          <div class="row">
            <div class="col-md-6">
              <div class="form-group mb-3">
                <label for="categoria-select">Categoría:</label>
                <select id="categoria-select" class="form-select"></select>
              </div>
              <div class="form-group mb-3">
                <label for="elemento-select">Elemento:</label>
                <select id="elemento-select" class="form-select" disabled></select>
              </div>
              <div class="form-group mb-3">
                <label for="cantidad-input">Cantidad:</label>
                <input type="number" id="cantidad-input" class="form-control" value="1" min="1" disabled />
              </div>
            </div>
            <div class="col-md-6">
              <div class="card mb-3">
                <div class="card-body">
                  <h4>Detalles del elemento</h4>
                  <div id="elemento-detalles">
                    <p class="text-muted">Selecciona un elemento para ver sus detalles</p>
                  </div>
                </div>
              </div>
              <div id="elemento-imagen" class="text-center">
                <img src="/img/placeholder.svg" alt="Vista previa del elemento" class="img-fluid" style="max-height: 200px;" />
              </div>
            </div>
          </div>
          <div class="mt-3">
            <button id="prestamo-btn" class="btn btn-success" disabled>Realizar préstamo</button>
            <button id="back-btn" class="btn btn-secondary">Volver</button>
          </div>
        </div>
      </section>

      <!-- Administración (Laboratorista) -->
      <section id="admin-section" class="mt-4" style="display:none;">
        <div class="card shadow p-4">
          <h3>Administración de inventario</h3>
          <!-- Formulario para agregar o editar elementos -->
        </div>
      </section>
    </main>
  </div>

  <!-- Modales -->
  <div class="modal fade" id="confirmModal" tabindex="-1" aria-hidden="true">
    <div class="modal-dialog">
      <div class="modal-content">
        <div class="modal-header">
          <h5 class="modal-title" id="confirmModalTitle">Confirmar acción</h5>
          <button type="button" class="btn-close" data-bs-dismiss="modal" aria-label="Close"></button>
        </div>
        <div class="modal-body" id="confirmModalBody">
          ¿Estás seguro de realizar esta acción?
        </div>
        <div class="modal-footer">
          <button type="button" class="btn btn-secondary" data-bs-dismiss="modal">Cancelar</button>
          <button type="button" class="btn btn-primary" id="confirmModalBtn">Confirmar</button>
        </div>
      </div>
    </div>
  </div>

  <!-- Notificaciones -->
  <div class="position-fixed bottom-0 end-0 p-3" style="z-index: 5">
    <div id="notificationToast" class="toast" role="alert" aria-live="assertive" aria-atomic="true">
      <div class="toast-header">
        <strong class="me-auto" id="notificationTitle">Notificación</strong>
        <button type="button" class="btn-close" data-bs-dismiss="toast" aria-label="Close"></button>
      </div>
      <div class="toast-body" id="notificationBody">
        Mensaje de notificación
      </div>
    </div>
  </div>

  <!-- Scripts -->
  <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.1.3/dist/js/bootstrap.bundle.min.js"></script>
  <script src="/js/data.js"></script>
  <script src="/js/main.js"></script>
  <script src="/js/api.js"></script>
</body>
</html>
